<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PRO –ú–æ–Ω—Ç–∞–∂</title>
    <link rel="stylesheet" href="styles.css?v=5">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- FFmpeg –ù–ï –Ω—É–∂–µ–Ω - –≤–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ! -->
</head>
<body>
    <div class="app-container" id="app">
        
        <!-- –≠–ö–†–ê–ù 1: –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ -->
        <div class="screen" id="screen-mode" data-screen="1">
            <h1 class="screen-title">üé¨ PRO –ú–æ–Ω—Ç–∞–∂</h1>
            <p class="hint-text">‚ö° –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</p>
            <div class="mode-buttons">
                <button class="mode-btn" onclick="selectMode('split_screen')">
                    <span class="mode-icon">üì±</span>
                    <span class="mode-label">–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞</span>
                    <span class="mode-desc">–î–≤–∞ –≤–∏–¥–µ–æ —Ä—è–¥–æ–º</span>
                </button>
                <button class="mode-btn" onclick="selectMode('corner')">
                    <span class="mode-icon">üìê</span>
                    <span class="mode-label">–í —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞</span>
                    <span class="mode-desc">–ê–≤–∞—Ç–∞—Ä –≤ —É–≥–ª—É</span>
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="screen hidden" id="screen-settings" data-screen="2">
            <h1 class="screen-title" id="selected-mode-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
            
            <!-- –ü—Ä–µ–≤—å—é –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ -->
            <div class="composition-preview">
                <div class="comp-video comp-video-1" id="comp-video-1">
                    <div class="comp-placeholder">–í–∞—à–µ –≤–∏–¥–µ–æ</div>
                </div>
                <div class="comp-video comp-video-2" id="comp-video-2">
                    <div class="comp-placeholder">–ê–≤–∞—Ç–∞—Ä HeyGen</div>
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ -->
            <div class="settings-panel">
                <div class="setting-group">
                    <div class="setting-header" onclick="toggleGroup('main-settings')">
                        <span class="toggle-icon" id="toggle-main-settings">‚ñº</span>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏</span>
                    </div>
                    <div class="setting-content" id="main-settings">
                        <div class="setting-item">
                            <label class="setting-label">–ü–æ–∑–∏—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–∞:</label>
                            <select class="setting-select" id="avatar-position" onchange="updateState('avatarPosition', this.value)">
                                <option value="top">–°–≤–µ—Ä—Ö—É</option>
                                <option value="bottom">–°–Ω–∏–∑—É</option>
                                <option value="left">–°–ª–µ–≤–∞</option>
                                <option value="right">–°–ø—Ä–∞–≤–∞</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                –†–∞–∑–º–µ—Ä –∞–≤–∞—Ç–∞—Ä–∞: <span id="screen-value">50</span>%
                            </label>
                            <input type="range" class="setting-slider" id="screen-ratio" 
                                   min="20" max="80" value="50" 
                                   oninput="updateSlider('screen', this.value)">
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="action-btn" onclick="confirmSettings()">
                ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>

        <!-- –≠–ö–†–ê–ù 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
        <div class="screen hidden" id="screen-confirm" data-screen="3">
            <h1 class="screen-title">üìã –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h1>
            <div class="confirm-container">
                <div class="confirm-card">
                    <h3>–í—ã–±—Ä–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</h3>
                    <div class="confirm-item">
                        <span class="confirm-label">–†–µ–∂–∏–º:</span>
                        <span class="confirm-value" id="confirm-mode">-</span>
                    </div>
                    <div class="confirm-item">
                        <span class="confirm-label">–ü–æ–∑–∏—Ü–∏—è –∞–≤–∞—Ç–∞—Ä–∞:</span>
                        <span class="confirm-value" id="confirm-position">-</span>
                    </div>
                    <div class="confirm-item">
                        <span class="confirm-label">–†–∞–∑–º–µ—Ä –∞–≤–∞—Ç–∞—Ä–∞:</span>
                        <span class="confirm-value" id="confirm-ratio">-</span>
                    </div>
                </div>
                
                <p class="hint-text">
                    –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ç–æ—Ä–æ–µ –≤–∏–¥–µ–æ.
                    <br>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–π–º—ë—Ç 30-60 —Å–µ–∫—É–Ω–¥! ‚ö°
                </p>
                
                <button class="action-btn" onclick="sendSettingsToBot()">
                    üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É
                </button>
                <button class="action-btn secondary" onclick="showScreen(2)">
                    ‚Üê –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 4: –£—Å–ø–µ—Ö -->
        <div class="screen hidden" id="screen-success" data-screen="4">
            <h1 class="screen-title">‚úÖ –ì–æ—Ç–æ–≤–æ!</h1>
            <div class="success-container">
                <div class="success-icon">üéâ</div>
                <p class="success-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –±–æ—Ç—É!</p>
                <p class="hint-text">
                    –ë–æ—Ç —Å–µ–π—á–∞—Å –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ç–æ—Ä–æ–µ –≤–∏–¥–µ–æ.
                    <br>–≠—Ç–æ –æ–∫–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏...
                </p>
                <div class="spinner"></div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù 5: –û—à–∏–±–∫–∞ -->
        <div class="screen hidden" id="screen-error" data-screen="5">
            <h1 class="screen-title">‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ</h1>
            <div class="error-container">
                <div class="error-icon">üì±</div>
                <p class="error-message" id="error-message">
                    –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
                </p>
                <button class="action-btn" onclick="resetApp()">
                    ‚Üê –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                </button>
            </div>
        </div>

    </div>

    <script src="script.js?v=5"></script>
</body>
</html>
